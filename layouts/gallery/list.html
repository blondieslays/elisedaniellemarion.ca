<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"> <!-- Ensure correct character encoding -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Responsive design -->
    <title>{{ .Title }}</title>
    <meta name="description" content="{{ .Description }}">
    <link rel="stylesheet" href="/css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/custom.css">
</head>
<body>

<!-- Symbols Menu -->
<nav class="symbol-menu">
    <ul>
        <li><a href="/" title="Home"><img src="/images/menu-icons/arrow.png" alt="Home" width="32" height="32"></a></li>
        <li><a href="/gallery/prometheus/" title="Prometheus"><img src="/images/menu-icons/fire.png" alt="Prometheus" width="32" height="32"></a></li>
        <li><a href="/gallery/epimetheus/" title="Epimetheus"><img src="/images/menu-icons/moon.png" alt="Epimetheus" width="32" height="32"></a></li>
        <li><a href="/gallery/pandora/" title="Pandora"><img src="/images/menu-icons/sun.png" alt="Pandora" width="32" height="32"></a></li>
    </ul>
</nav>

<div class="gallery-container">
    <header class="gallery-header">
        <h1>{{ .Title }}</h1>
        <p>{{ .Params.description }}</p>
    </header>

    <!-- Slicing images for pagination -->
    {{ $pageSize := 3 }} <!-- Number of items per page -->
    {{ $page := .Paginator.PageNumber }}
    {{ $start := (mul (sub $page 1) $pageSize) }}
    {{ $end := (add $start $pageSize) }}
    {{ $slicedImages := slice $start $end }}

    <div class="tile-container">
        {{ range .Params.images }}
        <div class="tile">
            <div class="tile-inner">
                <div class="tile-front">
                    <a href="{{ .link }}">
                        <img src="{{ .front }}" alt="Front of {{ .link }}">
                    </a>
                </div>
                <div class="tile-back">
                    <a href="{{ .link }}">
                        <img src="{{ .back }}" alt="Back of {{ .link }}">
                    </a>
                </div>
            </div>
        </div>
        {{ end }}
    </div>
</div>

<!-- Navigation: Handles both pagination and section navigation -->
<nav class="gallery-navigation">
    <div class="nav-band">
        {{ if .Paginator.HasPrev }}
            <a href="{{ .Paginator.Prev.Page.Permalink }}" class="nav-button left">
                <img src="{{ .Params.navigation_images.left }}" alt="Previous">
            </a>
        {{ else }}
            {{ with .File }}
                {{ $section := .BaseFileName }}
                {{ if eq $section "prometheus" }}
                    <a href="/gallery/pandora/" class="nav-button left">
                        <img src="{{ .Params.navigation_images.left }}" alt="Previous">
                    </a>
                {{ else if eq $section "epimetheus" }}
                    <a href="/gallery/prometheus/" class="nav-button left">
                        <img src="{{ .Params.navigation_images.left }}" alt="Previous">
                    </a>
                {{ else if eq $section "pandora" }}
                    <a href="/gallery/epimetheus/" class="nav-button left">
                        <img src="{{ .Params.navigation_images.left }}" alt="Previous">
                    </a>
                {{ end }}
            {{ end }}
        {{ end }}

        {{ if .Paginator.HasNext }}
            <a href="{{ .Paginator.Next.Page.Permalink }}" class="nav-button right">
                <img src="{{ .Params.navigation_images.right }}" alt="Next">
            </a>
        {{ else }}
            {{ with .File }}
                {{ $section := .BaseFileName }}
                {{ if eq $section "prometheus" }}
                    <a href="/gallery/epimetheus/" class="nav-button right">
                        <img src="{{ .Params.navigation_images.right }}" alt="Next">
                    </a>
                {{ else if eq $section "epimetheus" }}
                    <a href="/gallery/pandora/" class="nav-button right">
                        <img src="{{ .Params.navigation_images.right }}" alt="Next">
                    </a>
                {{ else if eq $section "pandora" }}
                    <a href="/gallery/prometheus/" class="nav-button right">
                        <img src="{{ .Params.navigation_images.right }}" alt="Next">
                    </a>
                {{ end }}
            {{ end }}
        {{ end }}
    </div>
</nav>



</body>
</html>

